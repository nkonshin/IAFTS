# ИСАТЛ — Интеллектуальная система автоматизированной таксации леса

## Описание

Приложение для анализа данных воздушного лазерного сканирования (ВЛС) и аэрофотосъемки (АФС) с целью автоматизации процесса таксации лесных участков и получения подеревных ведомостей. Современный графический интерфейс на Avalonia UI, поддержка Python-скриптов, интеграция с CUDA и R.

## Возможности

- Современный графический интерфейс (Avalonia UI)
- Переключаемые вкладки: "Работа", "О команде", "О проекте"
- Актуальная информация о команде и проекте в отдельных окнах
- Загрузка данных в форматах:
  - LAS (лидарные данные)
  - TIFF (аэрофотоснимки)
- Автоматическое обнаружение деревьев
- Расчет параметров деревьев (координаты, высота, диаметр, порода)
- Экспорт результатов в формате CSV
- Кнопки для загрузки файлов и запуска расчёта
- Улучшенный внешний вид и цветовое оформление элементов управления
- Компактное расположение кнопок действий
- Поддержка пакетной обработки (в планах)

## Текущее состояние

### Реализовано
- Современный интерфейс на Avalonia UI с вкладками "Работа", "О команде", "О проекте"
- Верхний блок с тремя основными кнопками для переключения вкладок
- Окна с подробной информацией о команде и проекте
- Крупные и подчёркнутые заголовки, стилизованные кнопки
- Загрузка и валидация входных файлов
- Отображение состояния обработки
- MVVM-архитектура, разделение на View, ViewModel, Service
- Интеграция с Python-скриптами, поддержка CUDA и R

### В планах
- Дополнительные фильтры и инструменты анализа
- Поддержка пакетной обработки данных

## Технические требования и установка

### Системные требования
- **ОС**: Windows 10/11 (64-bit) или Linux/Mac (для Avalonia UI)
- **Процессор**: 2.0 ГГц или выше (рекомендуется 4+ ядер)
- **ОЗУ**: 8 ГБ минимум (рекомендуется 16+ ГБ для больших наборов данных)
- **Видеокарта**: NVIDIA с поддержкой CUDA, минимум 6 ГБ VRAM (рекомендуется 8+ ГБ)
  - Поддерживаемые архитектуры: Pascal, Volta, Turing, Ampere, Ada Lovelace
- **Место на диске**: 5 ГБ (плюс место для входных/выходных данных)

### Необходимое ПО
- **.NET 9.0 SDK** и **Avalonia UI** — [Скачать .NET](https://dotnet.microsoft.com/download), [Avalonia](https://avaloniaui.net/)
- **Python 3.12+** — [Скачать](https://www.python.org/downloads/)
- **CUDA Toolkit 12.4** — [Скачать](https://developer.nvidia.com/cuda-downloads)
- **cuDNN** (рекомендуется для ускорения нейронных сетей) — [Скачать](https://developer.nvidia.com/cudnn)
- **R** (опционально, для расширенного анализа) — [Скачать](https://cran.r-project.org/)

### Установка и запуск

1. Установите необходимое ПО (см. выше)
2. Клонируйте репозиторий
3. Создайте и активируйте виртуальное окружение Python:
   ```bash
   python -m venv venv
   # Windows:
   .\venv\Scripts\activate
   # macOS/Linux:
   source venv/bin/activate
   ```
4. Установите зависимости Python:
   ```bash
   pip install -r requirements.txt
   ```
5. Восстановите и соберите проект:
   ```bash
   dotnet restore
   dotnet build
   dotnet run
   ```
6. Проверьте работу CUDA (опционально):
   ```bash
   nvidia-smi
   python -c "import torch; print(f'PyTorch версия: {torch.__version__}')"
   ```

### Использование

1. Нажмите "+ Файл .las" для загрузки файла с данными лидарного сканирования
2. Нажмите "+ Файл .tiff" для загрузки растрового изображения
3. Нажмите "Расчет объема" для выполнения расчетов
4. Нажмите "Скачать отчет" для сохранения результатов

## Установка и запуск

1. Установите необходимое ПО (см. выше)
2. Клонируйте репозиторий
3. Установите зависимости Python:
   ```bash
   pip install -r requirements.txt
   ```
4. Соберите и запустите приложение:
   ```bash
   dotnet build
   dotnet run
   ```

5. Для запуска GUI убедитесь, что все зависимости Avalonia UI установлены и корректно настроены.

## Структура проекта

```
IAFTS/
├── Models/         # Модели данных
├── Services/       # Сервисы приложения, интеграция с Python
├── ViewModels/     # ViewModel-классы, логика вкладок
├── Views/          # Представления (XAML): Работа, О команде, О проекте
├── Resources/      # Стили, иконки, вспомогательные файлы
├── search_script/  # Python-скрипты для анализа данных
├── App.axaml       # Главный файл приложения
└── README.md       # Этот файл
```

## UX/UI особенности
- Верхний блок с кнопками для переключения вкладок
- Крупные и подчёркнутые заголовки
- Стилизованные кнопки с цветовым акцентом
- Вкладки "О команде" и "О проекте" с актуальной информацией
- Компактное расположение кнопок действий
   ```
   dotnet run --project IAFTS.csproj
   ```

## Лицензия

MIT License (или ваша лицензия)

## Контакты

E-mail: your@email.com
Telegram: @yourusername

### Python пакеты
Все необходимые Python-зависимости перечислены в файле `requirements.txt`

## Установка и запуск

### 1. Проверка и настройка окружения

```bash
# Проверяем версию .NET (должна быть 7.0 или новее)
dotnet --version

# Проверяем версию Python (рекомендуется 3.12.4)
python --version
```

### 2. Настройка Python окружения

```bash
# Переходим в директорию проекта
cd /path/to/IAFTS

# Создаем виртуальное окружение
python -m venv venv

# Активируем виртуальное окружение
# Для Windows:
.\venv\Scripts\activate
# Для macOS/Linux:
source venv/bin/activate

# Устанавливаем зависимости
pip install -r requirements.txt
```

### 3. Восстановление .NET зависимостей

```bash
# Восстанавливаем NuGet пакеты
dotnet restore
```

### 3. Запуск приложения

```bash
# Убедитесь, что виртуальное окружение активировано
# Запускаем приложение
dotnet run
```

## Структура проекта

```
IAFTS/
├── Models/               # Модели данных
├── Services/             # Сервисы приложения
├── ViewModels/           # ViewModel-классы
├── Views/                # Представления (XAML)
├── search_script/        # Python-скрипты для анализа данных
├── App.axaml             # Главный файл приложения
└── README.md             # Этот файл
```

## Использование

1. Нажмите "+ Файл .las" для загрузки файла с данными лидарного сканирования
2. Нажмите "+ Файл .tiff" для загрузки растрового изображения
3. Нажмите "Расчет объема" для выполнения расчетов
4. Нажмите "Скачать отчет" для сохранения результатов