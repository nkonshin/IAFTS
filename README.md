# ИСАТЛ - Интеллектуальная система автоматизированной таксации леса

## Описание

Приложение для анализа данных воздушного лазерного сканирования (ВЛС) и аэрофотосъемки (АФС) с целью автоматизации процесса таксации лесных участков и получения подеревных ведомостей.

## Возможности

- Загрузка данных в форматах:
  - LAS (лидарные данные)
  - TIFF (аэрофотоснимки)
- Автоматическое обнаружение деревьев
- Расчет параметров деревьев:
  - Координаты (в прямоугольной проекции EPSG)
  - Высота
  - Диаметр
  - Порода
- Экспорт результатов в формате CSV

## Текущее состояние

### Реализовано
- **Интерфейс пользователя**
  - Современный интерфейс на базе Avalonia UI
  - Загрузка и валидация входных файлов
  - Отображение состояния обработки

- **Архитектура**
  - MVVM-архитектура
  - Разделение на слои представления, бизнес-логики и данных
  - Реактивное программирование с ReactiveUI

- **Интеграция**
  - Вызов Python-скриптов для обработки данных
  - Использование CUDA для ускорения вычислений
  - Интеграция с R для статистического анализа

### В планах
- Дополнительные фильтры и инструменты анализа
- Поддержка пакетной обработки данных

## Технические требования

### Системные требования
- **ОС**: Windows 10/11 (64-bit)
- **Процессор**: 2.0 ГГц или выше (рекомендуется 4+ ядер)
- **ОЗУ**: 8 ГБ минимум (рекомендуется 16+ ГБ для больших наборов данных)
- **Видеокарта**: NVIDIA с поддержкой CUDA, минимум 6 ГБ VRAM (рекомендуется 8+ ГБ)
  - Поддерживаемые архитектуры: Pascal, Volta, Turing, Ampere, Ada Lovelace
- **Место на диске**: 5 ГБ (плюс место для входных/выходных данных)

### Необходимое ПО
1. **.NET 9.0 SDK** - [Скачать](https://dotnet.microsoft.com/download)
2. **Python 3.12+** - [Скачать](https://www.python.org/downloads/)
3. **CUDA Toolkit 12.4** - [Скачать](https://developer.nvidia.com/cuda-downloads)
   - Убедитесь, что ваша видеокарта поддерживает CUDA
   - После установки перезагрузите компьютер
4. **cuDNN** (рекомендуется для ускорения нейронных сетей) - [Скачать](https://developer.nvidia.com/cudnn)
5. **R** (опционально, для расширенного анализа) - [Скачать](https://cran.r-project.org/)

### Установка Python-зависимостей
После установки Python и CUDA, установите зависимости:
```bash
pip install -r requirements.txt
```

Проверьте установку CUDA:
```bash
nvidia-smi  # Должна отобразиться информация о видеокарте и версии CUDA
python -c "import torch; print(f'PyTorch версия: {torch.__version__}')"
```

## Установка и запуск

1. Установите необходимое ПО (см. выше)
2. Клонируйте репозиторий
3. Установите зависимости Python:
   ```
   pip install -r requirements.txt
   ```
4. Запустите приложение:
   ```
   dotnet run --project IAFTS.csproj
   ```

## Лицензия

[Укажите лицензию, если применимо]

## Контакты

[Ваши контактные данные]

### Python пакеты
Все необходимые Python-зависимости перечислены в файле `requirements.txt`

## Установка и запуск

### 1. Проверка и настройка окружения

```bash
# Проверяем версию .NET (должна быть 7.0 или новее)
dotnet --version

# Проверяем версию Python (рекомендуется 3.12.4)
python --version
```

### 2. Настройка Python окружения

```bash
# Переходим в директорию проекта
cd /path/to/IAFTS

# Создаем виртуальное окружение
python -m venv venv

# Активируем виртуальное окружение
# Для Windows:
.\venv\Scripts\activate
# Для macOS/Linux:
source venv/bin/activate

# Устанавливаем зависимости
pip install -r requirements.txt
```

### 3. Восстановление .NET зависимостей

```bash
# Восстанавливаем NuGet пакеты
dotnet restore
```

### 3. Запуск приложения

```bash
# Убедитесь, что виртуальное окружение активировано
# Запускаем приложение
dotnet run
```

## Структура проекта

```
IAFTS/
├── Models/               # Модели данных
├── Services/             # Сервисы приложения
├── ViewModels/           # ViewModel-классы
├── Views/                # Представления (XAML)
├── search_script/        # Python-скрипты для анализа данных
├── App.axaml             # Главный файл приложения
└── README.md             # Этот файл
```

## Использование

1. Нажмите "+ Файл .las" для загрузки файла с данными лидарного сканирования
2. Нажмите "+ Файл .tiff" для загрузки растрового изображения
3. Нажмите "Расчет объема" для выполнения расчетов
4. Нажмите "Скачать отчет" для сохранения результатов

## Лицензия

[Укажите лицензию, если необходимо]

## Контакты

[Ваши контактные данные]
